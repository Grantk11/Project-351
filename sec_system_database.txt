#Captains_Compass_system database sql code




CREATE TABLE Alumni (
    AlumniID INT AUTO_INCREMENT PRIMARY KEY,
    FirstName VARCHAR(30) NOT NULL,
    LastName  VARCHAR(30) NOT NULL,
    Email     VARCHAR(255) NOT NULL,
    Phone     VARCHAR(20),
    GradYear  INT,
    Major     VARCHAR(50)
);

CREATE TABLE Employee_and_Admin(
    EmployeeID INT AUTO_INCREMENT PRIMARY KEY,
    FirstName VARCHAR(20),
    LastName VARCHAR(20),
    Email VARCHAR(20),
    PhoneNumber VARCHAR(15)
);

CREATE TABLE School_Events(
    SchoolEventID INT AUTO_INCREMENT PRIMARY KEY,
    EventLocation VARCHAR(20),
    EventDate DATE
);

CREATE TABLE Student (
    StudentID INT AUTO_INCREMENT PRIMARY KEY,
    StudentFirstName VARCHAR(20),
    StudentLastname VARCHAR(20),
    StudentEmail VARCHAR(20),
    StudentPhoneNum VARCHAR(20)
);

CREATE TABLE Professor (
    ProfessorID INT AUTO_INCREMENT PRIMARY KEY,
    ProfessorFirstName VARCHAR(20),
    ProfessorLastName VARCHAR(20),
    ProfessorEmail VARCHAR(20),
    ProfessorNotes VARCHAR(20),
    ProfessorPhoneNum VARCHAR(20)
);

CREATE TABLE Internship_Opportunities (
    PostingID INT AUTO_INCREMENT PRIMARY KEY,
    CompanyName VARCHAR(20),
    PositionDescription VARCHAR(20),
    AlumniID INT,
    CompanyContact VARCHAR(10),
    Requirements VARCHAR(200),
    FOREIGN KEY (AlumniID) REFERENCES Alumni(AlumniID)
);

CREATE TABLE Trip(
    TripID INT AUTO_INCREMENT PRIMARY KEY,
    EmployeeID INT,
    ArrivalDate DATE,
    ReturnDate DATE,
    EmployeeDestination VARCHAR(15),
    FOREIGN KEY (EmployeeID) REFERENCES Employee_and_Admin(EmployeeID)
);

CREATE TABLE Receipt(
    ReceiptID INT AUTO_INCREMENT PRIMARY KEY,
    TripID INT,
    Date DATE,
    BankInfo VARCHAR(20),
    Amount DECIMAL(10,2),
    FOREIGN KEY (TripID) REFERENCES Trip(TripID)
);

CREATE TABLE Attendance(
    AttendanceID INT AUTO_INCREMENT PRIMARY KEY,
    StudentID INT,
    SchoolEventID INT,
    FOREIGN KEY (StudentID) REFERENCES Student(StudentID),
    FOREIGN KEY (SchoolEventID) REFERENCES School_Events(SchoolEventID)
);

CREATE TABLE StudentNote (
    NoteID INT AUTO_INCREMENT PRIMARY KEY,
    StudentID INT,
    ProfessorID INT,
    StudentExpectedGrad VARCHAR(20),
    StudentClasses VARCHAR(20),
    StudentName VARCHAR(20),
    FOREIGN KEY (StudentID) REFERENCES Student(StudentID),
    FOREIGN KEY (ProfessorID) REFERENCES Professor(ProfessorID)
);

CREATE TABLE Meeting (
    MeetingID INT AUTO_INCREMENT PRIMARY KEY,
    StudentID INT,
    ProfessorID INT,
    MeetingLocation VARCHAR(20),
    MeetingName VARCHAR(20),
    MeetingDate DATE,
    FOREIGN KEY (StudentID) REFERENCES Student(StudentID),
    FOREIGN KEY (ProfessorID) REFERENCES Professor(ProfessorID)
);

CREATE TABLE Applications (
    ApplicationID INT AUTO_INCREMENT PRIMARY KEY,
    ApplicationName VARCHAR(40),
    ApplicationDescription VARCHAR(40),
    AlumniID INT,
    PostingID INT,
    FOREIGN KEY (AlumniID) REFERENCES Alumni(AlumniID),
    FOREIGN KEY (PostingID) REFERENCES Internship_Opportunities(PostingID)
);



#just in case i need to drop tables
SET FOREIGN_KEY_CHECKS = 0;

DROP TABLE IF EXISTS Receipt;
DROP TABLE IF EXISTS Attendance;
DROP TABLE IF EXISTS StudentNote;
DROP TABLE IF EXISTS Meeting;
DROP TABLE IF EXISTS Internship_Opportunities;
DROP TABLE IF EXISTS Trip;

DROP TABLE IF EXISTS Applications;
DROP TABLE IF EXISTS School_Events;
DROP TABLE IF EXISTS Student;
DROP TABLE IF EXISTS Professor;
DROP TABLE IF EXISTS Employee_and_Admin;
DROP TABLE IF EXISTS Alumni;

SET FOREIGN_KEY_CHECKS = 1;




